webpackJsonp([2],{0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=n(220),l=a(r),u=n(3),o=a(u),i=n(5),s=a(i),c=n(4),d=a(c),f=n(235),p=a(f);n(412),n(446);var h=n(1),m=a(h),g=n(11),v=a(g);n(676);var y=n(47),E=n(521),b=a(E),j=n(526),_=a(j),x=n(523),S=a(x),P=n(524),C=a(P),w=p["default"].Header,M=p["default"].Content,I=p["default"].Footer,T=p["default"].Sider,k=function(e){function t(){var n,a,r;(0,o["default"])(this,t);for(var l=arguments.length,u=Array(l),i=0;i<l;i++)u[i]=arguments[i];return n=a=(0,s["default"])(this,e.call.apply(e,[this].concat(u))),a.state={collapsed:!1},r=n,(0,s["default"])(a,r)}return(0,d["default"])(t,e),t.prototype.render=function(){return m["default"].createElement(y.HashRouter,null,m["default"].createElement("div",null,m["default"].createElement(y.Switch,null,m["default"].createElement(y.Route,{path:"/"},m["default"].createElement(p["default"],{style:{minHeight:"100vh"}},m["default"].createElement(T,{breakpoint:"xs",collapsible:!0,defaultCollapsed:!0,onCollapse:this.onCollapse},m["default"].createElement(b["default"],null),m["default"].createElement("div",{className:"logo"})),m["default"].createElement(p["default"],null,m["default"].createElement(w,{style:{padding:0}},m["default"].createElement(l["default"],null)),m["default"].createElement(M,{style:{margin:"10px 16px"}},m["default"].createElement(y.Route,{path:"/projects",component:_["default"]}),m["default"].createElement(y.Route,{path:"/jobs",component:S["default"]}),m["default"].createElement(y.Route,{path:"/stages/:stageId",component:C["default"]})),m["default"].createElement(I,{style:{textAlign:"center"}},"\xa92018 Created by pipin")))))))},t}(m["default"].Component);v["default"].render(m["default"].createElement(k,null),document.getElementById("root"))},21:function(e,t){},70:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(530),l=(a(r),n(312)),u=a(l),o=[],i=function(e,t){return t&&(e=e+"?"+u["default"].stringify(t)),fetch(e,{method:"GET",headers:o,cache:"no-cache",credentials:"same-origin"})};t["default"]={listProjects:function(e){return i("/api/projects",e).then(function(e){return e.json()})},getProject:function(e){return i("/api/projects/"+e).then(function(e){return e.json()})},startJob:function(e){return i("/api/projects/"+e+"/start").then(function(e){return e.json()})},listProjectJobs:function(e,t){return i("/api/projects/"+e+"/jobs",t).then(function(e){return e.json()})},listJobs:function(e){return i("/api/jobs",e).then(function(e){return e.json()})},getStage:function(e,t){return i("/api/stages/"+e,t).then(function(e){return e.json()})},retryJob:function(e){return i("/api/jobs/"+e+"/start").then(function(e){return e.json()})}},e.exports=t["default"]},86:[1039,663],145:function(e,t,n){"use strict";n(21),n(674),n(463),n(424),n(434),n(468),n(239)},147:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),l=a(r),u=n(5),o=a(u),i=n(4),s=a(i),c=n(1),d=a(c),f=n(312),p=a(f),h=function(e){function t(){(0,l["default"])(this,t);var n=(0,o["default"])(this,e.call(this));return n.state={content:[],collection:{},page:0,totalPages:0},n}return(0,s["default"])(t,e),t.prototype.fillData=function(e){var t=this;if(e.content){var n=e;return t.setState({content:n.content,collection:n,page:n.number}),n}return e.ok&&e.json().then(function(e){return t.setState({content:e.content,collection:e,page:e.number}),e})},t.prototype.loadData=function(){},t.prototype.pagerAction=function(e){e>0&&!this.state.collection.last?this.pagerTo(this.state.page++):e<0&&!this.state.collection.first&&this.pagerTo(this.state.page--)},t.prototype.pagerTo=function(e){var t=this,n=this.props,a=(n.match,n.history);n.location;this.state.page=e;var r=this.getParams();r.page=e,a.replace("?"+p["default"].stringify(r)),setTimeout(function(){t.loadData()},300)},t.prototype.getParams=function(){var e=this.props,t=(e.match,e.history,e.location);return p["default"].parse(t.search.replace("?",""))},t.prototype.componentDidMount=function(){this.loadData()},t}(d["default"].Component);t["default"]=h,e.exports=t["default"]},148:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=n(143),l=a(r),u=n(241),o=a(u),i=n(225),s=a(i),c=n(42),d=a(c);n(239),n(465),n(425),n(86);var f=n(1),p=(d["default"].Group,f.createClass({displayName:"GridHeader",onChange:function(e,t){var n=this.props,a=n.handlePageTo;n.handlePrevPage,n.handleNextPage;a&&a(e-1)},render:function(){var e=this.props.collection||{page:parseInt(this.props.page),size:parseInt(this.props.page),totalElements:0};e.first||!1,e.last||!1;console.log(this.props.page,e);var t=e.number?e.number+1:1;return f.createElement("div",{style:this.props.style},f.createElement(o["default"],null,f.createElement(s["default"],null,this.props.children)),f.createElement(o["default"],null,f.createElement(s["default"],{xs:12,md:16},t," \u5171",e.totalElements||0,"\u6761\u8bb0\u5f55"),f.createElement(s["default"],{xs:12,md:8},f.createElement(l["default"],{defaultCurrent:t,pageSize:e.size,total:e.totalElements,onChange:this.onChange}))))}}));e.exports=p},149:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=n(42),l=a(r);n(86);var u=n(1),o=u.createClass({displayName:"SubMenuBar",render:function(){var e=null;this.props.message&&(e=u.createElement("div",{className:"alert alert-warning",role:"alert"},this.props.message));var t=null;return this.props.withback&&(t=u.createElement("li",null,u.createElement(l["default"],{onclick:"history.back()"},"\u8fd4\u56de"))),u.createElement("nav",{className:"toolbar"},u.createElement("div",{className:"toolbar-header"},u.createElement("h3",null,this.props.brand),u.createElement("ul",{className:"nav"},t,this.props.children)),e,u.createElement("div",null))}});e.exports=o},234:[1039,666],239:function(e,t,n){"use strict";n(21),n(670),n(466),n(234)},248:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),l=a(r),u=n(42),o=a(u),i=n(3),s=a(i),c=n(5),d=a(c),f=n(4),p=a(f);n(145),n(86);var h=n(1),m=a(h),g=n(47),v=n(70),y=a(v),E=n(24),b=(a(E),function(e){function t(){return(0,s["default"])(this,t),(0,d["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.retry=function(e){y["default"].retryJob(e)},t.prototype.render=function(){var e=this.props,t=e.content,n=(e.match,this),a=[{title:"\u540d\u79f0",dataIndex:"_id"},{title:"\u9879\u76ee",render:function(e){return m["default"].createElement("span",null,e.project._id)}},{title:"\u72b6\u6001",render:function(e){return m["default"].createElement("span",null,e.status)}},{title:"absorb",render:function(e){return m["default"].createElement(g.Link,{to:"/stages/"+e.absorbStage.id},e.absorbStage.result.result)}},{title:"convert",render:function(e){return m["default"].createElement("div",null,e.convertStage.result.result)}},{title:"merge",render:function(e){return m["default"].createElement("div",null,e.mergeStage.result.result)}},{title:"",render:function(e){return 1==e.status?m["default"].createElement("div",null,m["default"].createElement(o["default"],{onClick:n.retry.bind(this,e._id)},"\u91cd\u8bd5")):m["default"].createElement("div",null)}}];return m["default"].createElement("div",null,m["default"].createElement(l["default"],{rowKey:"id",columns:a,dataSource:t,pagination:!1}))},t}(h.Component));t["default"]=b,e.exports=t["default"]},288:21,312:function(e,t,n){"use strict";t.decode=t.parse=n(783),t.encode=t.stringify=n(784)},412:[1039,662],424:[1039,664],425:function(e,t,n){"use strict";n(21),n(288)},434:function(e,t,n){"use strict";n(21),n(665),n(86)},438:function(e,t,n){"use strict";n(21)},446:[1039,667],450:function(e,t,n){"use strict";n(21),n(668),n(487)},451:[1039,669],463:[1039,671],465:425,466:function(e,t,n){"use strict";n(21),n(672),n(234)},468:[1039,673],487:[1039,675],521:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),l=a(r),u=n(3),o=a(u),i=n(5),s=a(i),c=n(4),d=a(c),f=n(142),p=a(f);n(438),n(450);var h=n(1),m=a(h),g=n(47),v=n(540),y=a(v),E=p["default"].SubMenu,b=function(e){function t(){var n,a,r;(0,o["default"])(this,t);for(var l=arguments.length,u=Array(l),i=0;i<l;i++)u[i]=arguments[i];return n=a=(0,s["default"])(this,e.call.apply(e,[this].concat(u))),a.state={collapsed:!1},r=n,(0,s["default"])(a,r)}return(0,d["default"])(t,e),t.prototype.componentDidMount=function(){var e=y["default"].parse(document.cookie);console.log("checking login state",e)},t.prototype.render=function(){this.props.partnerId;return m["default"].createElement(p["default"],{defaultSelectedKeys:["1"],defaultOpenKeys:["sub0"],mode:"inline",theme:"dark",inlineCollapsed:this.state.collapsed},m["default"].createElement(p["default"].Item,{key:"1"},m["default"].createElement(g.Link,{to:"/"},m["default"].createElement(l["default"],{type:"home"}),"\u9996\u9875")),m["default"].createElement(E,{key:"sub0",title:m["default"].createElement("span",null,m["default"].createElement(l["default"],{type:"mail"}),m["default"].createElement("span",null,"\u9879\u76ee\u7ba1\u7406"))},m["default"].createElement(p["default"].Item,{key:"2.1"},m["default"].createElement(g.Link,{to:"/projects"},m["default"].createElement(l["default"],{type:"shop"}),"\u9879\u76ee\u5217\u8868"))),m["default"].createElement(E,{key:"sub3",title:m["default"].createElement("span",null,m["default"].createElement(l["default"],{type:"user"}),m["default"].createElement("span",null,"\u4efb\u52a1\u7ba1\u7406"))},m["default"].createElement(p["default"].Item,{key:"3.1"},m["default"].createElement(g.Link,{to:"/jobs"},m["default"].createElement(l["default"],{type:"user"}),"\u4efb\u52a1\u5217\u8868"))))},t}(m["default"].Component);t["default"]=b,e.exports=t["default"]},522:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),l=a(r),u=n(3),o=a(u),i=n(5),s=a(i),c=n(4),d=a(c);n(145);var f=n(1),p=a(f),h=(n(47),n(70)),m=(a(h),n(24)),g=(a(m),function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=(e.match,[{title:"ID",dataIndex:"_id.$oid"},{title:"time",render:function(e){return p["default"].createElement("span",null)}}]);return p["default"].createElement("div",null,p["default"].createElement(l["default"],{rowKey:"id",columns:n,dataSource:t,pagination:!1}))},t}(f.Component));t["default"]=g,e.exports=t["default"]},523:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),l=a(r),u=n(5),o=a(u),i=n(4),s=a(i),c=n(1),d=a(c),f=n(47),p=n(70),h=a(p),m=n(147),g=a(m),v=n(148),y=a(v),E=n(149),b=(a(E),n(248)),j=a(b),_=function(e){function t(){return(0,l["default"])(this,t),(0,o["default"])(this,e.apply(this,arguments))}return(0,s["default"])(t,e),t.prototype.loadData=function(){var e=this.props.match,t=(e.params,this.getParams()),n=t.page;h["default"].listJobs({page:n}).then(this.fillData.bind(this))},t.prototype.render=function(){var e=this.getParams(),t=e.page;return d["default"].createElement("div",null,d["default"].createElement(f.Route,{exact:!0,path:"/"},d["default"].createElement("div",null,d["default"].createElement(y["default"],{page:t,collection:this.state.collection,handleRefresh:this.loadData,handlePageTo:this.pagerTo.bind(this)}),d["default"].createElement(j["default"],{content:this.state.content}))))},t}(g["default"]);t["default"]=_,e.exports=t["default"]},524:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),l=a(r),u=n(5),o=a(u),i=n(4),s=a(i),c=n(1),d=a(c),f=(n(47),n(70)),p=a(f),h=n(147),m=a(h),g=n(148),v=a(g),y=n(149),E=(a(y),n(522)),b=a(E),j=function(e){function t(){return(0,l["default"])(this,t),(0,o["default"])(this,e.apply(this,arguments))}return(0,s["default"])(t,e),t.prototype.loadData=function(){var e=this.props.match,t=e.params,n=t.stageId,a=this.getParams(),r=a.page;p["default"].getStage(n,{page:r}).then(this.fillData.bind(this))},t.prototype.render=function(){var e=this.getParams(),t=e.page;return d["default"].createElement("div",null,d["default"].createElement("div",null,d["default"].createElement(v["default"],{page:t,collection:this.state.collection,handleRefresh:this.loadData,handlePageTo:this.pagerTo.bind(this)}),d["default"].createElement(b["default"],{content:this.state.content})))},t}(m["default"]);t["default"]=j,e.exports=t["default"]},525:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),l=a(r),u=n(42),o=a(u),i=n(236),s=a(i),c=n(3),d=a(c),f=n(5),p=a(f),h=n(4),m=a(h);n(145),n(86),n(451);var g=n(1),v=a(g),y=n(47),E=n(70),b=a(E),j=n(24),_=(a(j),function(e){function t(){return(0,d["default"])(this,t),(0,p["default"])(this,e.apply(this,arguments))}return(0,m["default"])(t,e),t.prototype.runJob=function(e){this.props.history;b["default"].startJob(e).then(function(){s["default"].info("\u4efb\u52a1\u5df2\u5728\u540e\u53f0\u8fd0\u884c")})},t.prototype.render=function(){var e=this.props,t=e.content,n=(e.match,this),a=[{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u6765\u6e90",dataIndex:"source"},{title:"enity",render:function(e){return v["default"].createElement("div",null,e.convertSettings.defaultEntity)}},{title:"URL",render:function(e){return v["default"].createElement("div",null,e.pollSettings.startUri)}},{title:"Jobs",render:function(e){return v["default"].createElement(y.Link,{to:"/projects/"+e._id+"/jobs"},"Jobs")}},{title:"",render:function(e){return v["default"].createElement(o["default"],{onClick:n.runJob.bind(n,e._id)},"\u542f\u52a8\u65b0\u4efb\u52a1")}},{title:"\u65e5\u5fd7",render:function(e){return v["default"].createElement("a",{href:"/api/projects/"+e._id+"/logs"},"\u65e5\u5fd7")}}];return v["default"].createElement("div",null,v["default"].createElement(l["default"],{rowKey:"id",columns:a,dataSource:t,pagination:!1}))},t}(g.Component));t["default"]=_,e.exports=t["default"]},526:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),l=a(r),u=n(5),o=a(u),i=n(4),s=a(i),c=n(1),d=a(c),f=n(47),p=n(70),h=a(p),m=n(147),g=a(m),v=n(148),y=a(v),E=n(149),b=(a(E),n(525)),j=a(b),_=n(248),x=a(_),S=function(e){function t(){return(0,l["default"])(this,t),(0,o["default"])(this,e.apply(this,arguments))}return(0,s["default"])(t,e),t.prototype.loadData=function(){var e=this.props.match,t=(e.params,this.getParams()),n=t.page;h["default"].listProjects({page:n}).then(this.fillData.bind(this))},t.prototype.render=function(){var e=this.getParams(),t=e.page;return d["default"].createElement("div",null,d["default"].createElement(f.Switch,null,d["default"].createElement(f.Route,{exact:!0,path:"/projects"},d["default"].createElement("div",null,d["default"].createElement(y["default"],{page:t,collection:this.state.collection,handleRefresh:this.loadData,handlePageTo:this.pagerTo.bind(this)}),d["default"].createElement(j["default"],{content:this.state.content}))),d["default"].createElement(f.Route,{exact:!0,path:"/projects/:projectId/jobs",component:P})))},t}(g["default"]),P=function(e){function t(){return(0,l["default"])(this,t),(0,o["default"])(this,e.apply(this,arguments))}return(0,s["default"])(t,e),t.prototype.loadData=function(){var e=this.props.match,t=e.params,n=t.projectId,a=this.getParams(),r=a.page;console.log(this.props,t,r,n),h["default"].listProjectJobs(n,{page:r}).then(this.fillData.bind(this))},t.prototype.render=function(){var e=this.getParams(),t=e.page;return d["default"].createElement("div",null,d["default"].createElement(f.Switch,null,d["default"].createElement(f.Route,{exact:!0,path:"/projects"},d["default"].createElement("div",null,d["default"].createElement(y["default"],{page:t,collection:this.state.collection,handleRefresh:this.loadData,handlePageTo:this.pagerTo.bind(this)}),d["default"].createElement(j["default"],{content:this.state.content}))),d["default"].createElement(f.Route,{exact:!0,path:"/projects/:projectId/jobs"},d["default"].createElement("div",null,d["default"].createElement(y["default"],{page:t,collection:this.state.collection,handleRefresh:this.loadData,handlePageTo:this.pagerTo.bind(this)}),d["default"].createElement(x["default"],{content:this.state.content})))))},t}(g["default"]);t["default"]=S,e.exports=t["default"]},530:function(e,t,n){e.exports={"default":n(544),__esModule:!0}},540:function(e,t){/*!
	 * cookie
	 * Copyright(c) 2012-2014 Roman Shtylman
	 * Copyright(c) 2015 Douglas Christopher Wilson
	 * MIT Licensed
	 */
"use strict";function n(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},a=t||{},u=e.split(o),i=a.decode||l,s=0;s<u.length;s++){var c=u[s],d=c.indexOf("=");if(!(d<0)){var f=c.substr(0,d).trim(),p=c.substr(++d,c.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),void 0==n[f]&&(n[f]=r(p,i))}}return n}function a(e,t,n){var a=n||{},r=a.encode||u;if("function"!=typeof r)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var l=r(t);if(l&&!i.test(l))throw new TypeError("argument val is invalid");var o=e+"="+l;if(null!=a.maxAge){var s=a.maxAge-0;if(isNaN(s))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(s)}if(a.domain){if(!i.test(a.domain))throw new TypeError("option domain is invalid");o+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw new TypeError("option path is invalid");o+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(o+="; HttpOnly"),a.secure&&(o+="; Secure"),a.sameSite){var c="string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return o}function r(e,t){try{return t(e)}catch(n){return e}}t.parse=n,t.serialize=a;var l=decodeURIComponent,u=encodeURIComponent,o=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},544:function(e,t,n){var a=n(26),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},662:21,663:21,664:21,665:21,666:21,667:21,668:21,669:21,670:21,671:21,672:21,673:21,674:21,675:21,676:21,783:function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,a,r){t=t||"&",a=a||"=";var l={};if("string"!=typeof e||0===e.length)return l;var u=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var i=e.length;o>0&&i>o&&(i=o);for(var s=0;s<i;++s){var c,d,f,p,h=e[s].replace(u,"%20"),m=h.indexOf(a);m>=0?(c=h.substr(0,m),d=h.substr(m+1)):(c=h,d=""),f=decodeURIComponent(c),p=decodeURIComponent(d),n(l,f)?Array.isArray(l[f])?l[f].push(p):l[f]=[l[f],p]:l[f]=p}return l}},784:function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,r){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var l=encodeURIComponent(n(r))+a;return Array.isArray(e[r])?e[r].map(function(e){return l+encodeURIComponent(n(e))}).join(t):l+encodeURIComponent(n(e[r]))}).join(t):r?encodeURIComponent(n(r))+a+encodeURIComponent(n(e)):""}},1039:function(e,t,n,a){"use strict";n(21),n(a)}});